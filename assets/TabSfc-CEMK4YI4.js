import{Y as D,d as F,c as H,r as f,a as p,ae as ke,j as M,$ as Be,ad as Pe,_ as re,an as ze,f as z,N as Ee,a3 as ae,ak as j,ac as De,aP as Me,J as de,D as U,K as L,P as Y,a4 as W,U as g,w as K,g as R,Z as J,a5 as ce,a6 as ue,a7 as Ne,Q as Le,B as fe,C as Q,E as q,M as O,af as Ae,ai as We,O as Fe,X as He,a2 as Ue,ao as Ye,aE as ie,R as Ke,aa as Re}from"./useDesktop-BQ6h6iOA.js";import{b as _e}from"./useAppRouter-Bl8PFkp9.js";import{s as Ve,b as Xe}from"./swipeItem-CZjGiBsI.js";import{l as oe}from"./shared-BkwG8Aos.js";const A={offsetTop:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:10},cssMode:Boolean,disabled:Boolean,onScroll:D()};var se=(e,t,n)=>new Promise((i,d)=>{var l=a=>{try{o(n.next(a))}catch(s){d(s)}},v=a=>{try{o(n.throw(a))}catch(s){d(s)}},o=a=>a.done?i(a.value):Promise.resolve(a.value).then(l,v);o((n=n.apply(e,t)).next())});const{name:Ze,n:Oe,classes:je}=H("sticky");function Je(e,t){return U(),de("div",{ref:"stickyEl",class:g(e.classes(e.n(),[e.enableCSSMode,e.n("--css-mode")])),style:W({zIndex:e.toNumber(e.zIndex),top:e.enableCSSMode?"".concat(e.offsetTop,"px"):void 0,width:e.enableFixedMode?e.fixedWidth:void 0,height:e.enableFixedMode?e.fixedHeight:void 0})},[L("div",{ref:"wrapperEl",class:g(e.n("wrapper")),style:W({zIndex:e.toNumber(e.zIndex),position:e.enableFixedMode?"fixed":void 0,width:e.enableFixedMode?e.fixedWrapperWidth:void 0,height:e.enableFixedMode?e.fixedWrapperHeight:void 0,left:e.enableFixedMode?e.fixedLeft:void 0,top:e.enableFixedMode?e.fixedTop:void 0})},[Y(e.$slots,"default")],6)],6)}const ve=F({name:Ze,props:A,setup(e){const t=f(null),n=f(null),i=f(!1),d=f("0px"),l=f("0px"),v=f("auto"),o=f("auto"),a=f("auto"),s=f("auto"),C=p(()=>!e.disabled&&e.cssMode),b=p(()=>!e.disabled&&!e.cssMode&&i.value),c=p(()=>ke(e.offsetTop));let u;M(()=>e.disabled,I),Be(()=>se(this,null,function*(){yield j(),T(),y()})),Pe(_),re(I),ze(()=>window,"scroll",y);function h(){const{cssMode:$,disabled:E}=e;if(E)return;let k=0;if(u&&u!==window){const{top:r}=ae(u);k=r}const B=n.value,P=t.value,{top:Z,left:w}=ae(P),V=Z-k;return V<=c.value?($||(v.value="".concat(P.offsetWidth,"px"),o.value="".concat(P.offsetHeight,"px"),d.value="".concat(k+c.value,"px"),l.value="".concat(w,"px"),a.value="".concat(B.offsetWidth,"px"),s.value="".concat(B.offsetHeight,"px"),i.value=!0),{offsetTop:c.value,isFixed:!0}):(i.value=!1,{offsetTop:V,isFixed:!1})}function T(){u=De(t.value),u!==window&&u.addEventListener("scroll",y)}function y(){const $=h();$&&z(e.onScroll,$.offsetTop,$.isFixed)}function _(){!u||u===window||u.removeEventListener("scroll",y)}function I(){return se(this,null,function*(){i.value=!1,yield Me(),h()})}return{stickyEl:t,wrapperEl:n,isFixed:i,offsetTop:c,fixedTop:d,fixedLeft:l,fixedWidth:v,fixedHeight:o,fixedWrapperWidth:a,fixedWrapperHeight:s,enableCSSMode:C,enableFixedMode:b,n:Oe,classes:je,resize:I,toNumber:Ee}}});ve.render=Je;var G=ve;K(G);R(G,A);var Qe=G;const me=Symbol("TABS_ITEMS_BIND_TAB_ITEM_KEY");function qe(){const{bindChildren:e,childProviders:t,length:n}=J(me);return{length:n,tabItemList:t,bindTabItem:e}}const Ge=Symbol("TAB_ITEM_BIND_LIST_KEY");function xe(){const{parentProvider:e,bindParent:t,index:n}=ce(me);return ue(!!t,"TabItem","<var-tab-item/> must in <var-tabs-items/>"),{index:n,tabsItems:e,bindTabsItems:t}}function en(){const{childProviders:e,bindChildren:t,length:n}=J(Ge);return{length:n,lists:e,bindLists:t}}const be={name:[String,Number],disabled:Boolean,ripple:{type:Boolean,default:!0},onClick:D()},pe=Symbol("TABS_BIND_TAB_KEY");function nn(){const{childProviders:e,bindChildren:t,length:n}=J(pe);return{length:n,tabList:e,bindTabList:t}}function tn(){const{parentProvider:e,bindParent:t,index:n}=ce(pe);return ue(!!t,"Tab","<var-tab/> must in <var-tabs/>"),{index:n,tabs:e,bindTabs:t}}const{name:an,n:X,classes:on}=H("tab");function sn(e,t){const n=Ne("ripple");return Le((U(),de("div",{ref:"tabEl",class:g(e.classes(e.n(),e.n("$--box"),e.computeColorClass(),e.n("--".concat(e.itemDirection)))),style:W({color:e.computeColorStyle()}),onClick:t[0]||(t[0]=(...i)=>e.handleClick&&e.handleClick(...i))},[Y(e.$slots,"default")],6)),[[n,{disabled:e.disabled||!e.ripple}]])}const he=F({name:an,directives:{Ripple:_e},props:be,setup(e){const t=f(null),n=p(()=>t.value),i=p(()=>e.name),d=p(()=>e.disabled),{index:l,tabs:v,bindTabs:o}=tn(),{onTabClick:a,active:s,activeColor:C,inactiveColor:b,disabledColor:c,itemDirection:u,resize:h}=v,T={name:i,index:l,disabled:d,element:n};o(T),M(()=>[e.name,e.disabled],h);function y(){return e.name!=null?s.value===e.name:s.value===(l==null?void 0:l.value)}function _(){return e.disabled?c.value:y()?C.value:b.value}function I(){return e.disabled?X("$-tab--disabled"):y()?X("$-tab--active"):X("$-tab--inactive")}function $(E){const{disabled:k,name:B,onClick:P}=e;k||(z(P,B!=null?B:l.value,E),a(T))}return{tabEl:t,active:s,activeColor:C,inactiveColor:b,itemDirection:u,n:X,classes:on,computeColorStyle:_,computeColorClass:I,handleClick:$}}});he.render=sn;var x=he;K(x);R(x,be);const wn=x,ye={name:[String,Number]},{name:ln,n:rn,classes:dn}=H("tab-item");function cn(e,t){const n=fe("var-swipe-item");return U(),Q(n,{class:g(e.classes(e.n(),[!e.current,e.n("--inactive")])),"var-tab-item-cover":""},{default:q(()=>[Y(e.$slots,"default")]),_:3},8,["class"])}const $e=F({name:ln,components:{VarSwipeItem:Ve},props:ye,setup(e){const t=f(!1),n=p(()=>e.name),{index:i,bindTabsItems:d}=xe(),{bindLists:l}=en(),v={index:i,name:n,current:p(()=>t.value),setCurrent:o};d(v),l(v);function o(a){t.value=a}return{current:t,n:rn,classes:dn}}});$e.render=cn;var ee=$e;K(ee);R(ee,ye);const gn=ee,Se={active:{type:[String,Number],default:0},layoutDirection:{type:String,default:"horizontal"},itemDirection:{type:String,default:"horizontal"},fixedBottom:Boolean,activeColor:String,inactiveColor:String,disabledColor:String,color:String,indicatorColor:String,indicatorSize:[String,Number],elevation:{type:[Boolean,String,Number],default:!1},scrollable:{type:String,default:"auto"},indicatorPosition:{type:String,default:"normal"},safeArea:Boolean,sticky:Boolean,stickyCssMode:O(A,"cssMode"),stickyZIndex:O(A,"zIndex"),offsetTop:O(A,"offsetTop"),onClick:D(),onChange:D(),"onUpdate:active":D()};var le=(e,t,n)=>new Promise((i,d)=>{var l=a=>{try{o(n.next(a))}catch(s){d(s)}},v=a=>{try{o(n.throw(a))}catch(s){d(s)}},o=a=>a.done?i(a.value):Promise.resolve(a.value).then(l,v);o((n=n.apply(e,t)).next())});const{name:un,n:fn,classes:vn}=H("tabs");function mn(e,t){return U(),Q(Re(e.sticky?e.n("$-sticky"):e.Transition),{ref:e.sticky?"stickyComponent":void 0,"css-mode":e.sticky?e.stickyCssMode:void 0,"offset-top":e.sticky?e.offsetTop:void 0,"z-index":e.sticky?e.stickyZIndex:void 0},{default:q(()=>[L("div",Ke({class:e.classes(e.n(),e.n("$--box"),e.n("--item-".concat(e.itemDirection)),e.n("--layout-".concat(e.layoutDirection,"-padding")),e.formatElevation(e.elevation,4),[e.fixedBottom,e.n("--fixed-bottom")],[e.safeArea,e.n("--safe-area")]),style:{background:e.color}},e.$attrs),[L("div",{ref:"scrollerEl",class:g(e.classes(e.n("tab-wrap"),[e.localScrollable,e.n("--layout-".concat(e.layoutDirection,"-scrollable"))],e.n("--layout-".concat(e.layoutDirection))))},[Y(e.$slots,"default"),L("div",{class:g(e.classes(e.n("indicator"),e.n("--layout-".concat(e.layoutDirection).concat(e.indicatorPosition,"-indicator")))),style:W({width:e.layoutDirection==="horizontal"?e.indicatorWidth:e.toSizeUnit(e.indicatorSize),height:e.layoutDirection==="horizontal"?e.toSizeUnit(e.indicatorSize):e.indicatorHeight,transform:e.layoutDirection==="horizontal"?"translateX(".concat(e.indicatorX,")"):"translateY(".concat(e.indicatorY,")")})},[L("div",{class:g(e.classes(e.n("indicator-inner"),e.n("--layout-".concat(e.layoutDirection,"-indicator-inner")))),style:W({background:e.indicatorColor||e.activeColor})},null,6)],6)],2)],16)]),_:3},8,["css-mode","offset-top","z-index"])}const Ce=F({name:un,components:{VarSticky:Qe},inheritAttrs:!1,props:Se,setup(e){const t=f("0px"),n=f("0px"),i=f("0px"),d=f("0px"),l=f(!1),v=f(null),o=p(()=>e.active),a=p(()=>e.activeColor),s=p(()=>e.inactiveColor),C=p(()=>e.disabledColor),b=p(()=>e.itemDirection),c=f(null),u=p(()=>e.indicatorPosition==="reverse"?"-reverse":""),{tabList:h,bindTabList:T,length:y}=nn();T({active:o,activeColor:a,inactiveColor:s,disabledColor:C,itemDirection:b,resize:w,onTabClick:I}),M(()=>y.value,()=>le(this,null,function*(){yield j(),w()})),M(()=>[e.active,e.scrollable],w),Ae(w),re(w);function I(r){var m;const S=(m=r.name.value)!=null?m:r.index.value,{active:N,onChange:ge,onClick:Ie}=e;z(e["onUpdate:active"],S),z(Ie,S),S!==N&&z(ge,S)}function $(){return h.find(({name:r})=>e.active===r.value)}function E(r){return h.find(({index:m})=>(r!=null?r:e.active)===m.value)}function k(){if(y.value===0)return;const{active:r}=e;if(Ue(r)){const m=Ye(r,0,y.value-1);return z(e["onUpdate:active"],m),E(m)}}function B(){l.value=e.scrollable==="always"||h.length>=5}function P({element:r}){const m=r.value;m&&(e.layoutDirection==="horizontal"?(t.value="".concat(m.offsetWidth,"px"),i.value="".concat(m.offsetLeft,"px")):(n.value="".concat(m.offsetHeight,"px"),d.value="".concat(m.offsetTop,"px")))}function Z({element:r}){if(!l.value)return;const m=v.value,S=r.value;if(e.layoutDirection==="horizontal"){const N=S.offsetLeft+S.offsetWidth/2-m.offsetWidth/2;ie(m,{left:N,animation:oe})}else{const N=S.offsetTop+S.offsetHeight/2-m.offsetHeight/2;ie(m,{top:N,animation:oe})}}function w(){const r=$()||E()||k();!r||r.disabled.value||(B(),P(r),Z(r))}function V(){return le(this,null,function*(){e.sticky&&c.value&&(yield c.value.resize())})}return{stickyComponent:c,indicatorWidth:t,indicatorHeight:n,indicatorX:i,indicatorY:d,indicatorPosition:u,localScrollable:l,scrollerEl:v,Transition:He,toSizeUnit:Fe,n:fn,classes:vn,resize:w,resizeSticky:V,formatElevation:We}}});Ce.render=mn;var ne=Ce;K(ne);R(ne,Se);const In=ne,Te={active:{type:[String,Number],default:0},canSwipe:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},loop:Boolean,"onUpdate:active":D()};var bn=(e,t,n)=>new Promise((i,d)=>{var l=a=>{try{o(n.next(a))}catch(s){d(s)}},v=a=>{try{o(n.throw(a))}catch(s){d(s)}},o=a=>a.done?i(a.value):Promise.resolve(a.value).then(l,v);o((n=n.apply(e,t)).next())});const{name:pn,n:hn}=H("tabs-items");function yn(e,t){const n=fe("var-swipe");return U(),Q(n,{ref:"swipe",class:g(e.n()),loop:e.loop,duration:e.animated?void 0:0,touchable:e.canSwipe,indicator:!1,onChange:e.handleSwipeChange},{default:q(()=>[Y(e.$slots,"default")]),_:3},8,["class","loop","duration","touchable","onChange"])}const we=F({name:pn,components:{VarSwipe:Xe},props:Te,setup(e){const t=f(null),{tabItemList:n,bindTabItem:i,length:d}=qe();i({}),M(()=>e.active,a),M(()=>d.value,()=>bn(this,null,function*(){yield j(),a(e.active)}));function l(b){return n.find(({name:c})=>b===c.value)}function v(b){return n.find(({index:c})=>b===c.value)}function o(b){return l(b)||v(b)}function a(b){var c;const u=o(b);u&&(n.forEach(({setCurrent:h})=>h(!1)),u.setCurrent(!0),(c=t.value)==null||c.to(u.index.value))}function s(b){var c;const u=n.find(({index:T})=>T.value===b),h=(c=u.name.value)!=null?c:u.index.value;z(e["onUpdate:active"],h)}function C(){return t.value}return{swipe:t,n:hn,handleSwipeChange:s,getSwipe:C}}});we.render=yn;var te=we;K(te);R(te,Te);const kn=te;export{Ge as T,In as _,wn as a,kn as b,gn as c};
