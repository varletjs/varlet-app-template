import{Y as p,M as y,d as F,r as ee,a as z,j as T,f as l,$ as ne,ai as oe,c as G,B as C,Q as te,W as ae,J as S,D as c,K as B,S as g,U as f,P as d,a8 as re,V as se,C as $,a4 as V,aF as ie,t as b,E as O,R as P,az as le,X as ce,ax as de,y as E,aG as ue,aH as pe,aI as fe,w as M,g as me,aJ as ve,aK as ye,N as R}from"./useDesktop-BQ6h6iOA.js";import{h as w,s as ge,c as Oe,i as we}from"./useAppRouter-Bl8PFkp9.js";import{u as be,a as he}from"./shared-BkwG8Aos.js";var Se=Object.defineProperty,ke=Object.defineProperties,Ce=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,$e=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,D=(e,o,n)=>o in e?Se(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,_e=(e,o)=>{for(var n in o||(o={}))$e.call(o,n)&&D(e,n,o[n]);if(j)for(var n of j(o))Pe.call(o,n)&&D(e,n,o[n]);return e},Ee=(e,o)=>ke(e,Ce(o));const I={type:String,position:{type:String,default:"top"},content:[String,Function,Object],contentClass:String,duration:{type:Number,default:3e3},elevation:{type:[Boolean,String,Number],default:!0},vertical:Boolean,loadingType:y(w,"type"),loadingSize:y(w,"size"),loadingRadius:y(w,"radius"),loadingColor:Ee(_e({},y(w,"color")),{default:"currentColor"}),lockScroll:Boolean,show:Boolean,teleport:{type:[String,Object,Boolean],default:"body"},forbidClick:Boolean,onOpen:p(),onOpened:p(),onClose:p(),onClosed:p(),"onUpdate:show":p(),_update:String},{n:Ie,classes:Ae}=G("snackbar"),Ne={success:"checkbox-marked-circle",warning:"warning",info:"information",error:"error",loading:""};function ze(e,o){const n=C("var-icon"),a=C("var-loading");return te((c(),S("div",{class:f(e.n()),style:V({pointerEvents:e.isForbidClick?"auto":"none",zIndex:e.zIndex})},[B("div",{class:f(e.classes(e.n("wrapper"),e.n("wrapper-".concat(e.position)),e.formatElevation(e.elevation,4),[e.vertical,e.n("vertical")],[e.type&&e.SNACKBAR_TYPE.includes(e.type),e.n("wrapper-".concat(e.type))])),style:V({zIndex:e.zIndex})},[B("div",{class:f([e.n("content"),e.contentClass])},[d(e.$slots,"default",{},()=>[re(se(e.content),1)])],2),e.iconName||e.type==="loading"||e.$slots.icon?(c(),S("div",{key:0,class:f(e.n("icon"))},[e.iconName?(c(),$(n,{key:0,name:e.iconName},null,8,["name"])):g("v-if",!0),e.type==="loading"?(c(),$(a,{key:1,type:e.loadingType,size:e.loadingSize,color:e.loadingColor,radius:e.loadingRadius},null,8,["type","size","color","radius"])):g("v-if",!0),d(e.$slots,"icon")],2)):g("v-if",!0),e.$slots.action?(c(),S("div",{key:1,class:f(e.n("action"))},[d(e.$slots,"action")],2)):g("v-if",!0)],6)],6)),[[ae,e.show]])}const K=F({name:"VarSnackbarCore",components:{VarLoading:Oe,VarIcon:ge},props:I,setup(e){const o=ee(null),{zIndex:n}=be(()=>e.show,1);he(()=>e.show,()=>e.lockScroll);const a=z(()=>{const{type:u,forbidClick:h}=e;return u==="loading"||h}),r=z(()=>e.type?Ne[e.type]:"");function i(){o.value=setTimeout(()=>{e.type!=="loading"&&l(e["onUpdate:show"],!1)},e.duration)}return T(()=>e.show,u=>{u?(l(e.onOpen),i()):(clearTimeout(o.value),l(e.onClose))}),T(()=>e._update,()=>{clearTimeout(o.value),i()}),ne(()=>{e.show&&(l(e.onOpen),i())}),{SNACKBAR_TYPE:J,zIndex:n,iconName:r,isForbidClick:a,n:Ie,classes:Ae,formatElevation:oe}}});K.render=ze;var Y=K;const{name:Te,n:Be}=G("snackbar");function Ve(e,o){const n=C("var-snackbar-core");return c(),$(de,{to:e.teleport===!1?void 0:e.teleport,disabled:e.disabled||e.teleport===!1},[b(ce,{name:"".concat(e.n(),"-fade"),onAfterEnter:e.onOpened,onAfterLeave:e.onClosed},{default:O(()=>[b(n,P(e.$props,{class:e.n("transition")}),le({default:O(()=>[d(e.$slots,"default")]),_:2},[e.$slots.icon?{name:"icon",fn:O(()=>[d(e.$slots,"icon")]),key:"0"}:void 0,e.$slots.action?{name:"action",fn:O(()=>[d(e.$slots,"action")]),key:"1"}:void 0]),1040,["class"])]),_:3},8,["name","onAfterEnter","onAfterLeave"])],8,["to","disabled"])}const H=F({name:Te,components:{VarSnackbarCore:Y},props:I,setup(){const{disabled:e}=ie();return{disabled:e,n:Be}}});H.render=Ve;var A=H,je=Object.defineProperty,L=Object.getOwnPropertySymbols,De=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable,U=(e,o,n)=>o in e?je(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,m=(e,o)=>{for(var n in o||(o={}))De.call(o,n)&&U(e,n,o[n]);if(L)for(var n of L(o))Le.call(o,n)&&U(e,n,o[n]);return e};const J=["loading","success","warning","info","error"];let q=0,_=!1,Q,v=!1;const W={type:void 0,content:"",icon:"",action:"",position:"top",duration:3e3,elevation:!0,vertical:!1,contentClass:void 0,loadingType:"circle",loadingSize:"normal",lockScroll:!1,teleport:"body",forbidClick:!1,onOpen:()=>{},onOpened:()=>{},onClose:()=>{},onClosed:()=>{}};let t=E([]),N=W;const Ue={name:"var-snackbar-fade",tag:"div",class:"var-transition-group"},k=e=>()=>ye(e)?e():e,qe={setup(){return()=>{const e=t.map(({id:o,reactiveSnackOptions:n,_update:a})=>{const r=document.querySelector(".var-transition-group");n.forbidClick||n.type==="loading"?r.classList.add("var-pointer-auto"):r.classList.remove("var-pointer-auto");const i=m({position:v?"relative":"absolute"},Ye(n.position)),{content:u,icon:h,action:X}=n,Z={default:k(u),icon:k(h),action:k(X)};return b(Y,P(n,{key:o,style:i,"data-id":o,_update:a,show:n.show,"onUpdate:show":x=>n.show=x}),Z)});return b(ve,P(Ue,{style:{zIndex:we.zIndex},onAfterEnter:Fe,onAfterLeave:Ge}),{default:()=>[e]})}}},s=function(e){const o=Re(e),n=E(m(m({},N),o));n.show=!0,_||(_=!0,Q=ue(qe).unmountInstance);const{length:a}=t,r={id:q++,reactiveSnackOptions:n};if(a===0||v)Me(r);else{const i="update-".concat(q);Ke(n,i)}return{clear(){!v&&t.length?t[0].reactiveSnackOptions.show=!1:n.show=!1}}};J.forEach(e=>{s[e]=o=>(fe(o)?o.type=e:o={content:o,type:e},s(o))});s.allowMultiple=function(e=!1){e!==v&&(t.forEach(o=>{o.reactiveSnackOptions.show=!1}),v=e)};s.clear=function(){t.forEach(e=>{e.reactiveSnackOptions.show=!1})};s.setDefaultOptions=function(e){N=e};s.resetDefaultOptions=function(){N=W};function Fe(e){const o=e.getAttribute("data-id"),n=t.find(a=>a.id===R(o));n&&l(n.reactiveSnackOptions.onOpened)}function Ge(e){e.parentElement&&e.parentElement.classList.remove("var-pointer-auto");const o=e.getAttribute("data-id"),n=t.find(r=>r.id===R(o));n&&(n.animationEnd=!0,l(n.reactiveSnackOptions.onClosed)),t.every(r=>r.animationEnd)&&(l(Q),t=E([]),_=!1)}function Me(e){t.push(e)}function Re(e={}){return pe(e)?{content:e}:e}function Ke(e,o){const[n]=t;n.reactiveSnackOptions=m(m({},n.reactiveSnackOptions),e),n._update=o}function Ye(e="top"){return e==="bottom"?{top:"85%"}:{top:e==="top"?"5%":"45%"}}s.Component=A;M(A);M(A,s);me(s,I);var We=s;export{We as s};
