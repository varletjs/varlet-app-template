import{M as k,d as L,c as F,a as u,N as Z,O as z,B,J as C,D as i,P as h,t as R,E as O,Q as re,K as T,R as w,C as p,S as $,U as f,V as le,W as Oe,X as Ae,w as j,g as G,Y as I,Z as _e,r as S,j as U,_ as ke,$ as Te,a0 as we,a1 as Ee,f as d,a2 as Le,a3 as Fe,a4 as ce,F as ve,a5 as Me,a6 as Ve,a7 as De,a8 as ze,a9 as Re,aa as Ue,ab as je}from"./useDesktop-BQ6h6iOA.js";import{p as E,s as ue,a as Ge,b as He,u as Ye}from"./useAppRouter-Bl8PFkp9.js";import"./main-CISKX5cC.js";const me={type:{type:String,default:"default"},position:{type:String,default:"right-top"},hidden:Boolean,value:{type:[String,Number],default:0},maxValue:[String,Number],dot:Boolean,icon:k(E,"name"),namespace:k(E,"namespace"),color:String,offsetX:{type:[String,Number],default:0},offsetY:{type:[String,Number],default:0}};var Ke=Object.defineProperty,x=Object.getOwnPropertySymbols,Xe=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable,ee=(e,a,n)=>a in e?Ke(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,qe=(e,a)=>{for(var n in a||(a={}))Xe.call(a,n)&&ee(e,n,a[n]);if(x)for(var n of x(a))We.call(a,n)&&ee(e,n,a[n]);return e};const{name:Je,n:Qe,classes:Ze}=F("badge"),xe={key:0};function ea(e,a){const n=B("var-icon");return i(),C("div",{class:f(e.classes(e.n(),e.n("$--box")))},[h(e.$slots,"default"),R(Ae,{name:e.n("$-badge-fade"),persisted:""},{default:O(()=>[re(T("span",w({class:e.classes(e.n("content"),e.n("--".concat(e.type)),[e.$slots.default,e.n("--".concat(e.position)),e.n("--offset")],[e.dot,e.n("--dot")],[e.icon,e.n("--icon")]),style:qe({background:e.color},e.offsetStyle)},e.$attrs),[e.icon?(i(),p(n,{key:0,class:f(e.n("icon")),"var-badge-cover":"",name:e.icon,namespace:e.namespace},null,8,["class","name","namespace"])):$("v-if",!0),h(e.$slots,"value",{},()=>[!e.icon&&!e.dot?(i(),C("span",xe,le(e.value),1)):$("v-if",!0)])],16),[[Oe,!e.hidden]])]),_:3},8,["name"])],2)}const de=L({name:Je,components:{VarIcon:ue},inheritAttrs:!1,props:me,setup(e){const a=u(()=>{const{value:t,maxValue:s}=e;return t!=null&&s!=null&&Z(t)>Z(s)?"".concat(s,"+"):t}),n=u(()=>({"--badge-offset-y":z(e.offsetY),"--badge-offset-x":z(e.offsetX)}));return{value:a,offsetStyle:n,n:Qe,classes:Ze}}});de.render=ea;var H=de;j(H);G(H,me);var aa=H;const fe={active:{type:[Number,String],default:0},zIndex:{type:[Number,String],default:1},fixed:Boolean,border:Boolean,variant:Boolean,safeArea:Boolean,activeColor:String,inactiveColor:String,placeholder:Boolean,fabProps:Object,onChange:I(),onBeforeChange:I(),onFabClick:I(),"onUpdate:active":I()},pe=Symbol("BOTTOM_NAVIGATION_BIND_BOTTOM_NAVIGATION_ITEM_KEY");function na(){const{childProviders:e,length:a,bindChildren:n}=_e(pe);return{length:a,bottomNavigationItems:e,bindBottomNavigationItem:n}}var oa=Object.defineProperty,ae=Object.getOwnPropertySymbols,ta=Object.prototype.hasOwnProperty,ia=Object.prototype.propertyIsEnumerable,ne=(e,a,n)=>a in e?oa(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,oe=(e,a)=>{for(var n in a||(a={}))ta.call(a,n)&&ne(e,n,a[n]);if(ae)for(var n of ae(a))ia.call(a,n)&&ne(e,n,a[n]);return e};const{name:sa,n:ra,classes:la}=F("bottom-navigation"),{n:M}=F("bottom-navigation-item"),te=M("--right-half-space"),ie=M("--left-half-space"),se=M("--right-space"),ca={type:"primary"};function va(e,a){const n=B("var-button");return i(),C(ve,null,[T("div",w({ref:"bottomNavigationDom",class:e.classes(e.n(),e.n("$--box"),[e.fixed,e.n("--fixed")],[e.border,e.n("--border")],[e.safeArea,e.n("--safe-area")],[e.variant,e.n("--variant")]),style:"z-index:".concat(e.zIndex)},e.$attrs),[h(e.$slots,"default"),e.$slots.fab?(i(),p(n,w({key:0,class:e.classes(e.n("fab"),[e.length%2,e.n("--fab-right"),e.n("--fab-center")]),"var-bottom-navigation__fab":""},e.fabProps,{onClick:e.handleFabClick}),{default:O(()=>[h(e.$slots,"fab")]),_:3},16,["class","onClick"])):$("v-if",!0)],16),e.fixed&&e.placeholder?(i(),C("div",{key:0,class:f(e.n("placeholder")),style:ce({height:e.placeholderHeight})},null,6)):$("v-if",!0)],64)}const be=L({name:sa,components:{VarButton:Ge},props:fe,setup(e,{slots:a}){const n=S(null),t=u(()=>e.active),s=u(()=>e.activeColor),m=u(()=>e.inactiveColor),v=u(()=>e.variant),b=S(),y=S({}),{length:l,bottomNavigationItems:N,bindBottomNavigationItem:r}=na();r({active:t,activeColor:s,inactiveColor:m,variant:v,onToggle:Ne}),U(()=>l.value,A),U(()=>e.fabProps,o=>{y.value=oe(oe({},ca),o)},{immediate:!0,deep:!0}),ke(Q),Te(()=>{Q(),a.fab&&q(l.value)}),we(()=>{Pe(),a.fab&&q(l.value)});function A(){l.value===0||_()||Ce()||ye()}function _(){return N.find(({name:o})=>t.value===o.value)}function Ce(){return N.find(({index:o})=>t.value===o.value)}function ye(){Le(t.value)&&(t.value<0?d(e["onUpdate:active"],0):t.value>l.value-1&&d(e["onUpdate:active"],l.value-1))}function Ne(o){t.value!==o&&(e.onBeforeChange?$e(o):W(o))}function $e(o){const c=Ee(d(e.onBeforeChange,o));Promise.all(c).then(g=>{g.every(Boolean)&&W(o)})}function W(o){d(e["onUpdate:active"],o),d(e.onChange,o)}function Pe(){J().forEach(c=>{c.classList.remove(te,ie,se)})}function q(o){const c=J(),g=c.length,P=o%2===0;c.forEach((V,D)=>{Ie(P,V,D,g)})}function Ie(o,c,g,P){const V=g===P-1;if(!o&&V){c.classList.add(se);return}const D=g===P/2-1,Be=g===P/2;D?c.classList.add(te):Be&&c.classList.add(ie)}function J(){return Array.from(n.value.querySelectorAll(".".concat(M())))}function Se(){d(e.onFabClick)}function Q(){if(!e.fixed||!e.placeholder)return;const{height:o}=Fe(n.value);b.value=z(o)}return{length:l,bottomNavigationDom:n,fabProps:y,placeholderHeight:b,n:ra,classes:la,handleFabClick:Se}}});be.render=va;var Y=be;j(Y);G(Y,fe);const ua=Y,ge={name:String,label:String,icon:k(E,"name"),namespace:k(E,"namespace"),badge:{type:[Boolean,Object],default:!1},onClick:I()};function ma(){const{parentProvider:e,index:a,bindParent:n}=Me(pe);return Ve(!!n,"BottomNavigationItem","<var-bottom-navigation-item/> must in <var-bottom-navigation/>"),{index:a,bottomNavigation:e,bindBottomNavigation:n}}const{name:da,n:fa,classes:pa}=F("bottom-navigation-item"),ba={type:"danger",dot:!0};function ga(e,a){const n=B("var-icon"),t=B("var-badge"),s=De("ripple");return re((i(),C("button",{class:f(e.classes(e.n(),e.n("$--box"),[e.variant,e.n("--variant-padding")],[e.isActive&&!e.variant,e.n("--active")])),style:ce({color:e.isActive?e.activeColor:e.inactiveColor}),onClick:a[0]||(a[0]=(...m)=>e.handleClick&&e.handleClick(...m))},[T("div",{class:f(e.classes(e.n("icon-container"),[e.variant,e.n("--variant-icon-container")],[e.isActive&&e.variant,e.n("--variant-active")]))},[e.badge?(i(),p(t,w({key:0},e.badgeProps,{class:e.n("badge"),"var-bottom-navigation-item-cover":""}),{default:O(()=>[h(e.$slots,"icon",{active:e.isActive},()=>[e.icon?(i(),p(n,{key:0,name:e.icon,namespace:e.namespace,class:f(e.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):$("v-if",!0)])]),_:3},16,["class"])):h(e.$slots,"icon",{key:1,active:e.isActive},()=>[e.icon?(i(),p(n,{key:0,name:e.icon,namespace:e.namespace,class:f(e.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):$("v-if",!0)])],2),T("span",{class:f(e.n("label"))},[h(e.$slots,"default",{},()=>[ze(le(e.label),1)])],2)],6)),[[s]])}const he=L({name:da,components:{VarBadge:aa,VarIcon:ue},directives:{Ripple:He},props:ge,setup(e){const a=u(()=>e.name),n=u(()=>[a.value,s.value].includes(b.value)),t=u(()=>e.badge===!0?ba:e.badge),{index:s,bottomNavigation:m,bindBottomNavigation:v}=ma(),{active:b,activeColor:y,inactiveColor:l,variant:N}=m;v({name:a,index:s});function X(){var A;const _=(A=a.value)!=null?A:s.value;d(e.onClick,_),d(m.onToggle,_)}return{activeColor:y,inactiveColor:l,badgeProps:t,isActive:n,variant:N,n:fa,classes:pa,handleClick:X}}});he.render=ga;var K=he;j(K);G(K,ge);const ha=K,Ca={class:"h-[var(--app-height)] overflow-y-auto pb-[51px]"},Pa=L({__name:"default",setup(e){const{router:a,route:n}=Ye(),t=S(),s=S([{label:"HOME",icon:"home",name:"/home"},{label:"TOPIC",icon:"heart",name:"/topic"},{label:"MESSAGE",icon:"border-radius",namespace:"i",name:"/message"},{label:"PROFILE",icon:"account-circle",name:"/profile"}]);U(()=>n.path,v=>{t.value=v},{immediate:!0});function m(v){a.replace(v)}return(v,b)=>{const y=B("router-view"),l=ha,N=ua;return i(),C("div",Ca,[R(y,null,{default:O(({Component:r})=>[(i(),p(Re,null,[(i(),p(Ue(r)))],1024))]),_:1}),R(N,{active:t.value,"onUpdate:active":b[0]||(b[0]=r=>t.value=r),"safe-area":"",fixed:""},{default:O(()=>[(i(!0),C(ve,null,je(s.value,r=>(i(),p(l,{key:r.label,label:v.$t(r.label),icon:r.icon,name:r.name,namespace:r.namespace,onClick:()=>m(r.name)},null,8,["label","icon","name","namespace","onClick"]))),128))]),_:1},8,["active"])])}}});export{Pa as default};
