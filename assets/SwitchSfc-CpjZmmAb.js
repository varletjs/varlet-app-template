import{Y as y,d as x,c as ee,r as A,aj as ae,a as C,aQ as i,f as d,an as S,ap as F,ai as ie,z as le,B as E,a7 as $,Q as N,J as w,D as k,K as g,t as R,U as u,a4 as m,S as oe,w as ne,g as re}from"./useDesktop-BQ6h6iOA.js";import{s as se,u as te}from"./formDetails-5JAGTPJW.js";import{e as de,b as ue,f as ve,g as fe}from"./useAppRouter-Bl8PFkp9.js";const M={modelValue:{default:!1},activeValue:{default:!0},inactiveValue:{default:!1},lazyChange:Boolean,disabled:Boolean,readonly:Boolean,loading:Boolean,color:String,loadingColor:String,closeColor:String,size:[String,Number],variant:Boolean,rules:[Array,Function,Object],ripple:{type:Boolean,default:!0},buttonElevation:{type:[Boolean,String,Number],default:!0},validateTrigger:{type:Array,default:()=>["onChange","onLazyChange"]},onClick:y(),onBeforeChange:y(),onChange:y(),"onUpdate:modelValue":y()},{name:he,n:ce,classes:ge}=ee("switch"),me=["aria-checked"],ye=["tabindex"];function be(e,l){const v=E("var-hover-overlay"),b=E("var-form-details"),o=$("ripple"),f=$("hover");return N((k(),w("div",{class:u(e.classes(e.n(),[e.variant,e.n("--variant")])),role:"switch","aria-checked":e.modelValue},[g("div",{ref:"switchRef",class:u(e.classes(e.n("block"),[e.disabled||e.formDisabled,e.n("--disabled")],[e.isActive,e.n("block--active")])),style:m(e.styleComputed.switch),onClick:l[2]||(l[2]=(...h)=>e.switchActive&&e.switchActive(...h))},[g("div",{style:m(e.styleComputed.track),class:u(e.classes(e.n("track"),[e.isActive,e.n("track--active")],[e.errorMessage&&!e.variant,e.n("track--error")]))},null,6),N((k(),w("div",{class:u(e.classes(e.n("ripple"),[e.isActive,e.n("ripple--active")])),style:m(e.styleComputed.ripple),tabindex:e.disabled||e.formDisabled?void 0:"0",onFocus:l[0]||(l[0]=h=>e.isFocusing=!0),onBlur:l[1]||(l[1]=h=>e.isFocusing=!1)},[g("div",{style:m(e.styleComputed.handle),class:u(e.classes(e.n("handle"),e.formatElevation(e.buttonElevation,2),[e.isActive,e.n("handle--active")],[e.errorMessage&&!e.variant,e.n("handle--error")],[e.hovering,e.n("handle--hover")]))},[e.loading?(k(),w("span",{key:0,class:u(e.n("loading")),style:m({width:e.radius,height:e.radius})},[...l[3]||(l[3]=[g("svg",{viewBox:"25 25 50 50"},[g("circle",{cx:"50",cy:"50",r:"20",fill:"none"})],-1)])],6)):oe("v-if",!0)],6),R(v,{hovering:e.hovering&&!e.disabled&&!e.formDisabled,focusing:e.isFocusing&&!e.disabled&&!e.formDisabled},null,8,["hovering","focusing"])],46,ye)),[[o,{disabled:!e.ripple||e.disabled||e.loading||e.formDisabled||e.readonly||e.formReadonly}]])],6),R(b,{"error-message":e.errorMessage},null,8,["error-message"])],10,me)),[[f,e.hover,"desktop"]])}const T=x({name:he,components:{VarFormDetails:se,VarHoverOverlay:ve},directives:{Ripple:ue,Hover:de},props:M,setup(e){const l=A(null),v=A(!1),{bindForm:b,form:o}=te(),{errorMessage:f,validateWithTrigger:h,validate:U,resetValidation:B}=ae(),{hovering:H,handleHovering:L}=fe(),r=C(()=>e.modelValue===e.activeValue),P=C(()=>{const{size:a,color:s,closeColor:t,loadingColor:c,variant:n}=e;return{handle:{width:i(a),height:i(a),backgroundColor:r.value?s:t,color:c},ripple:{left:r.value?i(a,.5):"-".concat(i(a,n?1/3:.5)),color:r.value?s:t||"currentColor",width:i(a,2),height:i(a,2)},track:{width:i(a,n?13/6:1.9),height:i(a,n?4/3:.72),borderRadius:i(a,2/3),filter:r.value||f!=null&&f.value?void 0:"brightness(".concat(n?1:.6,")"),backgroundColor:r.value?s:t,borderWidth:n&&!r.value?i(a,1/12):void 0},switch:{width:i(a,n?13/6:2),height:i(a,n?4/3:1.2)}}}),K=C(()=>i(e.size,.8));d(b,{reset:J,validate:j,resetValidation:B}),S(()=>window,"keydown",O),S(()=>window,"keyup",W);function O(a){v.value&&((a.key===" "||a.key==="Enter")&&F(a),a.key==="Enter"&&l.value.click())}function W(a){!v.value||a.key!==" "||(F(a),l.value.click())}function j(){return U(e.rules,e.modelValue)}function D(a){le(()=>{const{validateTrigger:s,rules:t,modelValue:c}=e;h(s,a,t,c)})}function Q(a){const{onClick:s,onChange:t,disabled:c,loading:n,readonly:Y,activeValue:q,inactiveValue:G,lazyChange:X,"onUpdate:modelValue":z,onBeforeChange:Z}=e;if(c||o!=null&&o.disabled.value||(d(s,a),n||Y||o!=null&&o.readonly.value))return;const p=r.value?G:q;X?d(Z,p,_=>{d(z,_),D("onLazyChange")}):(d(t,p),d(z,p),D("onChange"))}function I(a){e.disabled||o!=null&&o.disabled.value||L(a)}function J(){d(e["onUpdate:modelValue"],e.inactiveValue),B()}return{isActive:r,switchRef:l,hovering:H,isFocusing:v,radius:K,styleComputed:P,errorMessage:f,formDisabled:o==null?void 0:o.disabled,formReadonly:o==null?void 0:o.readonly,n:ce,classes:ge,formatElevation:ie,multiplySizeUnit:i,switchActive:Q,hover:I}}});T.render=be;var V=T;ne(V);re(V,M);const Ve=V;export{Ve as _};
